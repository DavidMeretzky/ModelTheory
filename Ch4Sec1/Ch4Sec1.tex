\documentclass{article}

\usepackage{algorithmic, amsmath, amsthm, amsfonts, amssymb,commath, enumerate, tikz, tikz-cd, color, mathrsfs} %tikz is for drawing lattices %tikz-cd is for commutative diagrams
															%color is for making notes in red 
															%mathrsfs is for power set font
%\usepackage[mathscr]{eucal} %mathscr gives nice script fonts

\newtheoremstyle{problemstyle}  % <name> This is my problemstyle. use begin{problem}.
        {12pt}                                               % <space above>
        {}                                               % <space below>
        {\itshape}                               % <body font>
        {}                                                  % <indent amount}
        {\bfseries}                 % <theorem head font>
        {\normalfont\bfseries.}         % <punctuation after theorem head>
        {.5em}                                          % <space after theorem head>
        {}                                                  % <theorem head spec (can be left empty, meaning `normal')>


\theoremstyle{problemstyle}

\newtheorem{problem}{Problem}


\title{ \vspace{-10ex} %uncomment to remove vertical space
%title of assignment goes here e.g. "Math 721 Homework 3"
An Algebraic Introduction to Mathematical Logic\\
Chapter 4 Predicate Calculus \\
Section 1 Algebra of Predicates \\
Exercises 
}


\author{David L. Meretzky
}


\date{%date assignment is due goes here
February 28th, 2018
} 


\renewcommand*{\thefootnote}{$\dagger$} %changes default footnote marking to a dagger instead of a number (numbers are sometimes mistaken for citations)

\begin{document}

\maketitle




The following is the start of the construction of the Algebra of Predicates.\\

From the text, $V$ is an infinite set who's elements are called individual variables. There is also a set of relation or predicate symbols $\mathscr{R}$, together with an arity function $ar:\mathscr{R}\rightarrow \mathbb{N}$.  The set of generators used to construct the propositional algebra $P$ is $$\{(r,x_1,...x_n)|r \in \mathscr{R}, x_i \in V, \text{ and }ar(r) = n\}$$ 

Let $\widetilde{P}(V,\mathscr{R})$ be the free algebra on the set above of type $\{\textbf{F}, \Rightarrow,(\forall x)|x \in V\}$, where the arities are as usual, that is, $\textbf{F}$ is nullary, and $\Rightarrow$ is binary.  For each $x \in V$ we have a unary operator $(\forall x)$. A similar example can be found in the signature of a vector space over a field $k$. Here, for each element of $k$, there is a unary operator which is scalar multiplication by that element. 

\begin{flushleft}
\textbf{Definition 1.1} Let $w \in \widetilde{P}(V,\mathscr{R})$ the set of $variables$ $involved$ $in$ $w$, denoted by $V(w)$, is defined by $$V(w) = \cap\{U|U \subseteq V, w\in \widetilde{P}(U,\mathscr{R})\}.$$
\end{flushleft}

\begin{problem}[Exercise 1.2 i)] 
Show that $V(\textbf{F}) = \emptyset$.
\end{problem}

\begin{proof}[Solution exercise 1.2 i)]
Since, $V(\textbf{F}) = \cap\{U|U \subseteq V, \textbf{F} \in \widetilde{P}(U,\mathscr{R})\}$ it suffices to show that $\emptyset$ is in this collection of sets such that $\emptyset \subseteq V$, and $\textbf{F} \in \widetilde{P}(\emptyset,\mathscr{R})$, because then $V(F)$ which is the intersection of all such sets, must then be contained in $\emptyset$. It is clearly true that $\emptyset \subseteq V$. Note by the construction of $\widetilde{P}(\emptyset,\mathscr{R})$ that $T_0$, the nullary operations for the type mentioned in the first paragraph, must be elements of $\widetilde{P}(\emptyset,\mathscr{R})$. That is, $\widetilde{P}(\emptyset,\mathscr{R}) = \cup F_n$ where $F_0 = T_0 \cup \emptyset$. Thus since $\textbf{F} \in T_0$, $\textbf{F} \in \widetilde{P}(\emptyset,\mathscr{R})$. It follows that $V(\textbf{F}) = \emptyset$.
\end{proof}

\begin{problem}[Exercise 1.2 ii)] 
Show that if $r \in \mathscr{R}$, $ar(r) = n$, and $x_1,x_2,...,x_n \in V$ then $V(r(x_1,x_2,...,x_n)) = \{x_1,x_2,....,x_n\}$.
\end{problem}

\begin{proof}[Solution exercise 1.2 ii)]
Similarly, if we can show that $\{x_1,x_2,....,x_n\}$ satisfies the properties that $\{x_1,x_2,....,x_n\} \subseteq V$ and $r(x_1,x_2,...,x_n) \in \widetilde{P}(\{x_1,x_2,....,x_n\},\mathscr{R})$, then we will have that $V(r(x_1,x_2,...,x_n)) \subseteq \{x_1,x_2,....,x_n\}$. By definition, $\widetilde{P}(\{x_1,x_2,....,x_n\},\mathscr{R})$ has a generating set of things of the form $r(x_1,x_2,...,x_n)$, and therefore must contain this element at it's nullary level. We initially supposed also that $x_1,x_2,...,x_n \in V$ so $\{x_1,x_2,....,x_n\} \subseteq V$ and both conditions are verified. Therefore it holds that $V(r(x_1,x_2,...,x_n)) \subseteq \{x_1,x_2,....,x_n\}$. 

To show the reverse inclusion pick any $U$ such that $U \subseteq V$ and $r(x_1,x_2,...,x_n) \in \widetilde{P}(U,\mathscr{R})$. Looking at the form of $r(x_1,x_2,...,x_n)$, we see that it must be a generator, and therefore, $U$ must contain $\{x_1,x_2,....,x_n\}$. Since $U$ was chosen arbitrarily, the reverse inclusion holds and therefore $V(r(x_1,x_2,...,x_n)) = \{x_1,x_2,....,x_n\}$.
\end{proof}

\begin{problem}[Exercise 1.2 iii)] 
Show that if $w_1,w_2 \in \widetilde{P}(V,\mathscr{R})$, then $$V(w_1\Rightarrow w_2) = V(w_1) \cup V(w_2).$$
\end{problem}

\begin{proof}[Solution exercise 1.2 iii)]
Let $\overline{U} = V(w_1) \cup V(w_2)$, then $w_1 \in \widetilde{P}(\overline{U},\mathscr{R})$ and $w_2 \in \widetilde{P}(\overline{U},\mathscr{R})$. Since $\Rightarrow$ is in the type for both of these free algebras, $w_1 \Rightarrow w_2 \in \widetilde{P}(\overline{U},\mathscr{R})$. This implies that $V(w_1 \Rightarrow w_2) \subseteq U = (V(w_1) \cup V(w_2))$. This holds because we have verified that $\overline{U}$ is one of the sets which is in the intersection which $V(w_1 \Rightarrow w_2)$ is defined to be. 

To show the reverse inclusion, that is that $V(w_1) \cup V(w_2) \subseteq V(w_1 \Rightarrow w_2)$, we need to show that $V(w_1) \subseteq V(w_1 \Rightarrow w_2)$ and that $V(w_2) \subseteq V(w_1 \Rightarrow w_2)$. This intuitively plausible pair of inclusions is verified if we can show without loss of generality that $w_1 \in \widetilde{p}(V(w_1 \Rightarrow w_2), \mathscr{R})$. Clearly, $w_1 \Rightarrow w_2 \in \widetilde{p}(V(w_1 \Rightarrow w_2), \mathscr{R})$, and since $\widetilde{p}(V(w_1 \Rightarrow w_2), \mathscr{R})$ is generated freely, then by construction, if $w_1 \Rightarrow w_2 \in F_n$, then if $w_2 \in F_k$ with $k < n$, $w_1 \in F_{n-k}$ and therefore, $w_1 \in \widetilde{p}(V(w_1 \Rightarrow w_2), \mathscr{R})$. The symmetry of the argument shows too that $w_2 \in \widetilde{p}(V(w_1 \Rightarrow w_2), \mathscr{R})$, and therefore, $V(w_1) \subseteq V(w_1 \Rightarrow w_2)$ and that $V(w_2) \subseteq V(w_1 \Rightarrow w_2)$. The reverse inclusion, $V(w_1) \cup V(w_2) \subseteq V(w_1 \Rightarrow w_2)$ follows and we obtain the final equality. 
\end{proof}

\begin{problem}[Exercise 1.2 iv)] 
Show that if $x \in V$, and $w \in \widetilde{P}(V,\mathscr{R})$, then $V((\forall x)(w)) = {x} \cup V(w)$
\end{problem}

\begin{proof}[Solution exercise 1.2 iv)]
To show $V((\forall x)(w)) \subseteq {x} \cup V(w)$, we need to show that $(\forall x)(w) \in \widetilde{P}({x} \cup V(w),\mathscr{R})$. Since $x \in {x} \cup V(w)$, the type of $\widetilde{P}({x} \cup V(w),\mathscr{R})$ contains the neccesary quantifier $(\forall x)$. Clearly, $w \in \widetilde{P}({x} \cup V(w),\mathscr{R})$. Since $\widetilde{P}({x} \cup V(w),\mathscr{R})$ is freely generated and we have the necesary quantifier, then since for some $n$ $w \in F_n$, we then must have that $(\forall x)(w) \in F_{n+1}$. Therefore $(\forall x)(w) \in \widetilde{P}({x} \cup V(w),\mathscr{R})$, and the inclusion $V((\forall x)(w)) \subseteq {x} \cup V(w)$ holds. The nice part about the free construction is that we need not actually define what the value of $(\forall x)$ is at $w$. 

To show the reverse inclusion, that is ${x} \cup V(w) \subseteq V((\forall x)(w))$, it is a consequence of part $iii$ above, that it suffices to show that $x \Rightarrow w \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$. Nonsensical as it sounds, but nonetheless by definition, the existence of the quantifier $(\forall x)$, only occurs when the underlying set contains $x$. Thus $x \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$. Also $w \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$ because $(\forall x)(w) \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$ at $F_{n+1}$, so $w \in F_{n}$ and therefore, in $w \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$. Since $\Rightarrow$ is present in the type of $\widetilde{P}(V((\forall x)(w)), \mathscr{R})$ we have that $x \Rightarrow w \in \widetilde{P}(V((\forall x)(w)), \mathscr{R})$ and therefore that ${x} \cup V(w) \subseteq V((\forall x)(w))$. The result follows. 
\end{proof}

\begin{problem}[Exercise 1.2 v)] 
Show further that (i)-(iv) may be taken as the definition of the function $V(w)$.
\end{problem}

\begin{proof}[Solution exercise 1.2 v)] 
Define a function $V:\widetilde{P}(V, \mathscr{R}) \rightarrow V$ by properties (i)-(iv). We verify that it is the same as defining the function $V$ using $\textbf{Definition 1.1}$ by examining what it does to each level of the recursive construction of $\widetilde{P}(V, \mathscr{R})$

The first level, $F_0 = T_0 \cup \{(r,x_1,...x_n)|r \in \mathscr{R}, x_i \in V, \text{ and }ar(r) = n\}$, that is, the union of the nullary operation $\textbf{F}$ and the generators. The proof of part (i) shows that the functions agree on $\textbf{F}$. The proof of part (ii) shows that the functions agree on the generators. Parts (iii) and (iv) show, that if the functions agree on all elements at level $F_n$, then the use of additional operators respectively, $\Rightarrow$ and $(\forall x)$, from $T_{k=1,2}$, which then propel the elements of type $F_n$ into type $F_{n+1}$, still agree on the next level. This completes an inductive argument that these ways of defining $V$ are the same on all of $\widetilde{P}(V, \mathscr{R})$.
\end{proof}

\begin{flushleft}
\textbf{Definition 1.3} Let $w \in \widetilde{P}(V,\mathscr{R})$ the $depth$ $of$ $quantification$ of $w$, denoted by $d(w)$, is defined by 

\begin{enumerate}
\item $d(\textbf{F}) = 0$, $d(r(x_1,x_2,...,x_n)) = 0$ for every free generator of $\widetilde{P}(V,\mathscr{R})$. Note, since $F_0$ in the construction of $\widetilde{P}(V,\mathscr{R})$ is the union of $T_0 = \{\textbf{F}\}$ and the generators which are of the form $r(x_1,x_2,...,x_n)$ for $r \in \mathscr{R}$ and $x_1,x_2,...,x_n \in V$, then we can say for all $f \in F_0$, $d(f) = 0$. 

\item $d(w_1 \Rightarrow w_2) = max(d(w_1),d(w_2))$

\item $d((\forall x)(w)) = 1 + d(w)$ for $x \in V$ 
\end{enumerate}
\end{flushleft}
Our desired congruence relation on $\widetilde{P}(V,\mathscr{R})$ may now be defined. 

\begin{flushleft}
\textbf{Definition 1.4} Let $w_1$, $w_2 \in \widetilde{P}(V,\mathscr{R})$ define $w_1 \approx w_2$ if

\begin{enumerate}
\item $d(w_1) = d(w2) = 0$ and $w_1 = w_2$. Generating the free proposition algebra on $F_0$ that is, all generators and $\textbf{F}$, that is $F_0$ are of depth 0. By item 2 of the previous definition the use of $\Rightarrow$ does not increase the depth of quantification. Thus the equivalence relation on the proposition algebra contained in the predicate algebra $\widetilde{P}(V,\mathscr{R})$ is just equality. 
\item $d(w_1) = d(w_2) > 0$, $w_1 = a_1 \Rightarrow b_1$, $w_2 = a_2 \Rightarrow b_2$, $a_1 \approx a_2$ and $b_1 \approx b_2$ or 
\item $w_1 = (\forall x)(a)$, $w_2 = (\forall y)b$, and either
\begin{enumerate}
\item $x = y$ and $a \approx b$   (actually up to this point, this means iff they are equal)
\item There exists a $c = c(x)$ such that $c(x) \approx a$ and $c(y) \approx b$ and $y \notin V(c)$ 
\end{enumerate}
\end{enumerate}

The following is my interpretation of the paragraph directly after this definition in the text. The way that $c$ is defined is as a word in the generators of the form $r(x_1,x_2,...,x_n)$ as discussed. Then $c$ can be though of, (just like any word) as a function of the variables that are contained in its generators. So for example, if $c = r_1(x_1,x_2)\Rightarrow r_2(x_1,x_2,x_3)$ then we can say that $c = c(x_1,x_2,x_3)$. Ignoring the dependence on $x_2$ and $x_3$ we could further say $c = c(x_1)$. We would like it to be true that $$(\forall x_1)c(x_1) \approx (\forall y_1)c(y_1) = (\forall y_1)(r_1(y_1,x_2)\Rightarrow r_2(y_1,x_2,x_3)).$$ For this reason to make this the case all that we need is to be able to say that $y_1 \notin V(c)$. The reason that the opposite condition $x_1 \notin V(c(y_1))$ holds is that by definition $V(c(y_1))$ has every instance of $x_1$ already replaced. 
\end{flushleft}

\begin{problem}[Exercise 1.5 i)]
Given that $z \notin V(w_1) \cup V(w_2)$ show by induction over $d(w_1)$ that the element $c = c(x)$ in $\textbf{Definition 1.4}$ $3 (b)$ can always be chosen such that $z \notin V(c).$
\end{problem}

\begin{proof}[Solution exercise 1.5 i)]
Implicit in the statement of the question is that $w_1 \approx w_2$ for the reason enumerated in $\textbf{Definition 1.4}$ $3 (b)$. That is, $w_1 = (\forall x)a$ and $w_2 = (\forall y)b$ and $\exists c = c(x)$ such that $c(x) \approx a$ and $c(y) \approx b$ (satisfying the condition $y \notin V(c)$). 

Let us show now that in the case where $d(w_1) = 1$ the result holds. If $d(w_1) = 1$, then $d(a) = 0$. This implies that congruence with a must be strict equality. If $c(x) \approx a$, then indeed $c = c(x) = a$. This implies that $d(c) = 0$ we now have that $c(y) \approx b$, which implies that $c(y) = b$ and then $d(w_2) = 1$. (I realize that this is somewhat orthogonal to the proof of the base case but thinking about this is helping me get towards the proof.)

In fact we can use a double application of part 4 of $\textbf{Exercise 1.2}$ to obtain that $z \notin V(w_1) \cup V(w_2)$ is equivalent to the statement $$z \notin \{x\}\cup V(a) \cup \{y\}\cup V(b)$$ 

Clearly then $z \notin V(a)$ and since $c = c(x) = a$, and because $V$ is a function, $z \notin V(c)$.

Now lets prove the inductive step. Assume true for all $\textit{depths of quantification}$ $n$ or below that the result holds. Now for $w_1 \approx w_2$, we are given $z \notin V(w_1) \cup V(w_2)$, where $d(w_1) = n+1$. Here we again omit a minor point, if the last operand in the words $w_1$ or $w_2$ is $\Rightarrow$, part 2 of $\textbf{Definition 1.4}$ may be used to peel back the $\Rightarrow$. So we may assume that (as implicit in the statment of the problem) the condition of $\textbf{Definition 1.4}$ $3 (b)$ holds. That is to say that $w_1 = (\forall x)a$ and $w_2 = (\forall y)b$ and $\exists c = c(x)$ such that $c(x) \approx a$ and $c(y) \approx b$ (satisfying the condition $y \notin V(c)$). We wish to show that $z \notin c$. Note now that $d(a) = n$ and the result holds for $a$ and $b$ because if $z \notin V(w_1) \cup V(w_2)$, then $z \notin \{x\}\cup V(a) \cup \{y\}\cup V(b)$ and therefore, $z \notin \{x\}$ or $V(a)$ or $\{y\}$ or $V(b)$. We may then apply $\textbf{Definition 1.4}$ $3 (b)$ to $a$ and $b$ playing the roles of $w_1$ and $w_2$ with the additional benifit that the newly existing $c'$, does not contain $z$. 

I will spell this out. Recall, $w_1 = (\forall x)a$ and $d(a) = n$. Similarly, $w_2 = (\forall y)b$. It follows from the above comments and (perhaps an application of part 2 of $\textbf{Definition 1.4}$ that $a = (\forall x)\alpha$ and $b = (\forall y)\beta$, and by part 3 (b) of $\textbf{Definition 1.4}$, there exists a $c' \approx \alpha$ and $c'(y)\approx \beta$ such that $y \notin v(c')$ and by hypothesis that $z \notin v(c')$. 

We have that by part 3 (a) of $\textbf{Definition 1.4}$ that since $c' \approx \alpha$, $(\forall x)c' \approx (\forall x)\alpha = a$ and since $c'(y)\approx \beta$,  $(\forall y)c'(y)\approx (\forall y)\beta = b$. If we define the $c$ from before to be $(\forall x)c'$, we are finished. Using part 4 of $\textbf{Exercise 1.2}$ and the fact that $z \notin \{x\}$, $z \notin (\forall y)c'(y)$ as desired. We have verified also that $(\forall x)c'(x)\approx a$ and $(\forall y)c'(y)\approx b$, and $y \notin V((\forall x)c'(x)) = \{x\} \cup V(c')$. 

\end{proof}
\end{document}
